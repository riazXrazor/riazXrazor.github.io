!function(t,e,i,n){function s(e,i){var n=this;n.options=t.extend({},a,i),n.canvas=null,n.ctx=null,n.image=null,n.newPosSrc=null,n.$element=t(e),n.posx=n.$element.data("posx")||n.options.posx,n.posy=n.$element.data("posy")||n.options.posy,n.height=n.$element.data("height")||n.options.height||n.$element.height(),n.width=n.$element.data("width")||n.options.width||n.$element.width(),n.originx=n.options.originx||n.$element.data("origin-x")||0,n.originy=n.options.originy||n.$element.data("origin-y")||0,n.options.posSize=n.$element.data("pos-size")||n.options.posSize,n._defaults=a,n._name=o,n.init()}var o="imgpos",a={posx:null,posy:null,height:null,width:null,originx:0,originy:0,posSize:!1};s.prototype.init=function(){var t=this;t.isPercent(t.posx)&&(t.posx=t.calValue(t.posx,"x")),t.isPercent(t.posy)&&(t.posy=t.calValue(t.posy,"y")),t.isPercent(t.width)&&(t.width=t.calValue(t.width,"x")),t.isPercent(t.height)&&(t.height=t.calValue(t.height,"y")),t.canvas=i.createElement("canvas"),t.options.posSize?(t.canvas.height=t.height,t.canvas.width=t.width):(t.canvas.height=t.$element.attr("height")||t.height||t.$element.height(),t.canvas.width=t.$element.attr("width")||t.width||t.$element.width()),t.ctx=t.canvas.getContext("2d"),t.initImage()},s.prototype.initImage=function(){var t=this;t.image=new Image,t.image.crossOrigin="anonymous",t.image.onload=function(){t.drawimage(),t.getPosImage(),t.setNewPos()},t.image.src=t.$element.attr("src")},s.prototype.drawimage=function(){var t=this;t.ctx.drawImage(t.image,t.posx,t.posy,t.width,t.height,t.originx,t.originy,t.width,t.height)},s.prototype.calValue=function(t,e){var i=this,n=t.toString().substr(0,t.toString().length-1);return"x"===e?n/100*i.$element.width():"y"===e?n/100*i.$element.height():void 0},s.prototype.isPercent=function(t){var e=t.toString().substr(t.toString().length-1,1);return"%"===e?!0:!1},s.prototype.getPosImage=function(){var t=this;t.newPosSrc=t.canvas.toDataURL()},s.prototype.setNewPos=function(){var t=this;t.$element.attr("src",t.newPosSrc)},t.fn[o]=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new s(this,e))})},t(i).ready(function(){t("img").css("opacity",0),t('[data-img-pos="true"]').imgpos()}),t(e).load(function(){t("img").animate({opacity:1},800)})}(jQuery,window,document);